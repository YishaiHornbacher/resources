<!-- select report name modal dialog -->
<div ng-controller="IzendaSelectReportNameController as selectReportNameController"
     ng-init="selectReportNameController.initialize()">
  <div opened="selectReportNameController.modalOpened"
       on-modal-opened="selectReportNameController.setFocus()"
       izenda-bootstrap-modal>
    <div class="modal-body">
      <form class="form-horizontal" role="form">
        <div class="form-group" ng-if="selectReportNameController.errorMessages.length > 0">
          <div class="alert alert-danger" role="alert">
            <div ng-repeat="errorMessage in selectReportNameController.errorMessages"
                 ng-bind="errorMessage">
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="izendaNameModalName" class="col-sm-2 control-label"
            ng-bind="'js_Name' | izendaLocale: 'Name'" bind-once>
          </label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="izendaNameModalName"
                   ng-model="selectReportNameController.reportName" 
                   ng-attr-placeholder="{{selectReportNameController.reportNameInputPlaceholderText}}"
                   ng-keypress="selectReportNameController.reportNameKeyPressed($event)"
                   izenda-focus="{{selectReportNameController.focus.isNameFocused}}"
                   tabindex="1">
          </div>
        </div>
        <div class="form-group"
             ng-show="selectReportNameController.isCategoryAllowed">
          <label for="izendaNameModalCategory" class="col-sm-2 control-label"
            ng-bind="'js_Category' | izendaLocale: 'Category'" bind-once>
          </label>
          <div class="col-sm-10" ng-hide="!selectReportNameController.isCreatingNewCategory">
            <input id="izendaNameModalCategoryName" type="text" class="form-control"
              ng-attr-placeholder="{{'js_Category' | izendaLocale: 'Category'}}"
              ng-model="selectReportNameController.newCategoryName"
              izenda-focus="{{selectReportNameController.focus.isCategoryFocused}}"
              tabindex="2"/>
          </div>
          <div class="col-sm-10" ng-hide="selectReportNameController.isCreatingNewCategory">
            <select id="izendaNameModalCategory" class="form-control"
              ng-options="category as category.name for category in selectReportNameController.categories"
              ng-model="selectReportNameController.selectedCategory"
              ng-change="selectReportNameController.categorySelectedHandler()"
              ng-disabled="selectReportNameController.isSelectDisabled"
              tabindex="2">
            </select>
          </div>
        </div>
      </form>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-default" data-dismiss="modal"
              ng-click="selectReportNameController.closeModal()"
              ng-bind="'js_close' | izendaLocale: 'Close'"
              tabindex="4"></button>
      <button type="button" class="btn btn-izenda-dark"
              ng-click="selectReportNameController.completeHandler()"
              ng-bind="'js_Ok' | izendaLocale: 'OK'"
              tabindex="3"></button>
    </div>
  </div>
</div>
